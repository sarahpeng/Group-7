rename(
Donors = X,
Genders = X.1,
Ages = X.2
)
#Donor Type Plot
donor_type <- living_vs_deceased %>%
select(Donors, Genders, Ages, To.Date)%>%
filter(Ages== ("All Ages"),
Genders== ("All Genders")
)
plot1 <- ggplot(data=donor_type, aes(x=Donors, y=To.Date)) +
xlab("Types of Donors") + ylab("Number of Donors") + ggtitle("Living vs. Deceased Donors") +
geom_bar(stat="identity", fill="steelblue")
plot1
#Gender Type Plot
gender_diff <-living_vs_deceased %>%
select(Donors, Genders, Ages, To.Date)%>%
filter(Ages== ("All Ages"),
Genders== c("Male","Female")
)
plot2 <- ggplot(data=gender_diff, aes(x=Genders, y=To.Date)) +
xlab("Gender of Donors") + ylab("Number of Donors") + ggtitle("Male vs. Female Donors") +
geom_bar(stat="identity", fill="steelblue")
plot2
library(magrittr)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[1-10] = "All Donor Types"
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2,3,4,5,6,7,8,9,10,11] = "All Donor Types"
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[2,3] = "All Donor Types"
living_vs_deceased$X[2--10] = "All Donor Types"
living_vs_deceased$X[2--3] = "All Donor Types"
living_vs_deceased$X[2--1] = "All Donor Types"
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2(--1)*10] = "All Donor Types"
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "<1"))
View(mean_infant)
mean_infant <- living_vs_deceased %>%
filter(
(Ages== "<1"))
View(mean_infant)
mean_infant <- living_vs_deceased %>%
filter(
(Ages== "<1"))
mean_infant <- living_vs_deceased %>%
filter(
(Ages= "<1"))
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))
infant<- living_vs_deceased$To.Date/33
infant<- living_vs_deceased$To.Date
infant
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)
infant<- mean_infant/33
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date) = infant
setwd("C:/Users/Savannah Umali-Jepso/Desktop/INFO478/a1-scuj")
# Set up
library(dplyr)
library(knitr)
library(ggplot2)
# Load data
deaths_data <- read.csv('data/deaths.csv')
le_data <- read.csv('data/life_expectancy.csv')
ylds_data <- read.csv('data/ylds.csv')
# Aggregate data
death_le_data <- left_join(deaths_data,le_data)
boh_data <- left_join(death_le_data, ylds_data)
#Create YLL column
boh_data$ylls[1] = boh_data$deaths[1] * boh_data$life.expectancy[1]
#Create DALY column
boh_data$dalys[1] = boh_data$ylds[1] + boh_data$ylls[1]
#Fill YLL and DALY column
interval <- 1
while (interval < nrow(boh_data) + 1) {
boh_data$dalys[interval] = boh_data$ylds[interval] + boh_data$ylls[interval]
boh_data$ylls[interval] = boh_data$deaths[interval] * boh_data$life.expectancy[interval]
interval <- interval +1
}
# Cause
cause_mean <- aggregate(boh_data, by=list(boh_data$cause_name), FUN = mean, na.rm =TRUE)
#death
top_ten_death_causes <- cause_mean %>%
arrange(-deaths) %>%
top_n(n=10, w = deaths) %>%
mutate(
rank = rank(desc(deaths)),
deaths = round((deaths), 2)
) %>%
select(rank,Group.1, deaths)
top_ten_death_causes
View(top_ten_death_causes)
ggplot(top_ten_death_causes) + geom_col(mapping = aes(x = reorder(Group.1,deaths), y = deaths)) + coord_flip()
ggplot(top_ten_death_causes) + geom_col(mapping = aes(x = reorder(Group.1,deaths), y = deaths)) + coord_flip()
death<- ggplot(top_ten_death_causes) + geom_col(mapping = aes(x = reorder(Group.1,deaths), y = deaths)) + coord_flip()
death
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)%>%
mutate(To.Date = To.Date/33)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)%>%
mutate(To.Date[1] = To.Date[1] / 33)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)%>%
mutate(To.Date[1] == To.Date[1] / 33)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)%>%
mutate(To.Date[1] == To.Date / 33)
View(top_ten_death_causes)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)%>%
mutate(To.Date == To.Date / 33)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
select(To.Date)%>%
mutate(To.Date == round(To.Date / 33),2)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date == round(To.Date / 33),2)
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)
living_vs_deceased <- read.csv(file = 'donordata.csv')
setwd("C:/Users/Savannah Umali-Jepso/Desktop/INFO478/Group-7/eda")
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- as.numeric(living_vs_deceased$To.Date)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- as.numeric(living_vs_deceased$To.Date)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date[1] = round(To.Date[1] / 33),2)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "1-5 Years"))
View(mean_child)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "1-5 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
View(mean_child)
mean_toddler <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "1-5 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "6-10 Years"))%>%
View(mean_child)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "6-10 Years"))
View(mean_child)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "6-10 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
View(mean_child)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- as.numeric(living_vs_deceased$To.Date)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- as.numeric(living_vs_deceased$To.Date)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
mean_infant <- living_vs_deceased %>%
living_vs_deceased$To.Date <- as.numeric(living_vs_deceased$To.Date)%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))
View(mean_infant)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
living_vs_deceased$To.Date <- as.numeric(living_vs_deceased$To.Date)
living_vs_deceased$To.Date <- is.numeric(living_vs_deceased$To.Date)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- double(living_vs_deceased$To.Date)
living_vs_deceased$To.Date <- numeric(living_vs_deceased$To.Date)
living_vs_deceased$To.Date <- numeric_version(living_vs_deceased$To.Date)
living_vs_deceased$To.Date <- numeric_version(living_vs_deceased$To.Date, strict = TRUE)
living_vs_deceased$To.Date <- as.numeric_version(living_vs_deceased$To.Date)
living_vs_deceased$To.Date[1] <- as.numeric_version(living_vs_deceased$To.Date[1])
living_vs_deceased$To.Date <-  as.numeric(as.character(living_vs_deceased$To.Date))
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <-  as.double(as.character(living_vs_deceased$To.Date))
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- as.numeric(gsub(",","",living_vs_deceased$To.Date))
living_vs_deceased$To.Date <-  as.double(as.character(living_vs_deceased$To.Date))
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_toddler <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "1-5 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
View(mean_toddler)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "6-10 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
View(mean_child)
mean_teen <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "11-17 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_y_adult <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "18-34 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_o_aldut <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "35-49 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_midlife <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "50-64 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_elderly <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "65 +"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date)
mean_ages <- c(mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly)
View(mean_ages)
living_vs_deceased <- read.csv(file = 'donordata.csv')
living_vs_deceased$X[2] = "All Donor Types"
living_vs_deceased$X[3] = "All Donor Types"
living_vs_deceased$X[4] = "All Donor Types"
living_vs_deceased$X[5] = "All Donor Types"
living_vs_deceased$X[6] = "All Donor Types"
living_vs_deceased$X[7] = "All Donor Types"
living_vs_deceased$X[8] = "All Donor Types"
living_vs_deceased$X[9] = "All Donor Types"
living_vs_deceased <- living_vs_deceased %>%
rename(
Donors = X,
Ages = X.1,
)
living_vs_deceased$To.Date <- as.numeric(gsub(",","",living_vs_deceased$To.Date))
living_vs_deceased$To.Date <-  as.double(as.character(living_vs_deceased$To.Date))
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(To.Date, Ages)
View(mean_infant)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_infant <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "< 1 Year"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_toddler <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "1-5 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_child <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "6-10 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_teen <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "11-17 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_y_adult <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "18-34 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_o_aldut <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "35-49 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_midlife <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "50-64 Years"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_elderly <- living_vs_deceased %>%
filter(Donors== ("All Donor Types"),
(Ages== "65 +"))%>%
mutate(To.Date = round(To.Date / 33),2)%>%
select(Ages, To.Date)
mean_ages <- c(mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly)
View(mean_ages)
mean_ages <- data.frame( c(mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly))
View(mean_ages)
mean_ages <- data.frame( mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly)
View(mean_ages)
mean_ages <- data.frame( mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly)
mean_ages <- merge( mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly)
mean_ages <- merge( mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly, by="Ages")
mean_ages <- rbind( mean_infant,mean_toddler,mean_child,mean_teen,mean_y_adult,mean_o_aldut,
mean_midlife,mean_elderly)
View(mean_ages)
mean_ages_plot <- ggplot(data=mean_ages, aes(x=Ages, y=To.Date)) +
xlab("Ages of Donors") + ylab("Number of Donors") +
ggtitle("Average Number of Donors by Age Group from 1988-2020") +
geom_bar(stat="identity", fill="steelblue")
View(mean_ages)
mean_ages_plot <- ggplot(data=mean_ages, aes(x=Ages, y=To.Date)) +
xlab("Ages of Donors") + ylab("Number of Donors") +
ggtitle("Average Number of Donors by Age Group from 1988-2020") +
geom_bar(stat="identity", fill="steelblue")
mean_ages_plot
mean_ages_plot <- ggplot(data=mean_ages, aes(x=Ages, y=To.Date)) +
xlab("Ages of Donors") + ylab("Number of Donors") +
ggtitle("Average Number of Donors per Year by Age Group from 1988-2020") +
geom_bar(stat="identity", fill="steelblue")
mean_ages_plot <- ggplot(data=mean_ages, aes(x=Ages, y=To.Date)) +
xlab("Ages of Donors") + ylab("Number of Donors") +
ggtitle("Average Number of Donors per Year by Age Group from 1988-2020") +
geom_bar(stat="identity", fill="steelblue") + coord_flip()
mean_ages_plot
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(ggplot2)
source("livingvsdeceaseddistribution.R")
source("waiting_organ_type.R")
source("waiting_organ_type.R")
source("donor_age_breakdown.R")
source("donor_trend.R")
mean_ages_plot
